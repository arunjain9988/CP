{"task_url":"https://www.codechef.com/LTIME93B/problems/SOLDIERS","statement":{"HTML":{"html":"\n<html>\n\t<head>\n\t\t<link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/3.0.1/github-markdown.min.css\">\n\t\t<script type=\"text/x-mathjax-config\">\n\t\t\tMathJax.Hub.Config({\n\t\t\t\ttex2jax: {inlineMath: [['$','$']]}\n\t\t\t});\n\t\t</script>\n\t\t<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script>\n\t\t<style>\n\t\t\t.markdown-body {\n\t\t\t\tbackground-color: white;\n\t\t\t\tpadding-bottom: 20px;\n\t\t\t}\n\t\t\t.markdown-body code {\n\t\t\t\tcolor: #24292e;\n\t\t\t}\n\t\t\t.solution-visible-txt {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body class=\"markdown-body\">\n\t\t<h1>Chef and Reordering</h1>\n<p>There are $N$ cells (numbered $1$ through $N$). Initially, each cell contains a single Chef.</p>\n<p>You are given $Q$ pairs of cell ranges $[L_1, R_1], [L_2, R_2], \\ldots, [L_Q, R_Q]$. Consider a sequence of integers $a_1, a_2, \\ldots, a_N$, where $1 \\le a_i \\le N$ for each valid $i$. For each $k$ from $1$ to $Q$, the following process is performed:</p>\n<ul>\n<li>For each $i$ ($L_k \\le i \\le R_k$), the Chef from cell $i$ moves to cell $a_i$. All Chefs move at the same time.</li>\n<li>We check if each cell contains exactly one Chef afterwards. If there is a cell which does not contain exactly one Chef, the sequence $a$ is <em>invalid</em> and we stop.</li>\n</ul>\n<p>You should find a sequence $a$ which is not invalid. (Note that for such a sequence, each cell contains exactly one Chef at any point.) In addition, you are given an integer $p$ with the following meaning:</p>\n<ul>\n<li>If $p = 0$, you should find the lexicographically smallest sequence $a$.</li>\n<li>If $p = 1$, you should find the lexicographically largest sequence $a$.</li>\n</ul>\n<h3>Input</h3>\n<ul>\n<li>The first line of the input contains two space-separated integers $T$ and $p$, where $T$ denotes the number of test cases. The description of $T$ test cases follows.</li>\n<li>The first line of each test case contains two space-separated integers $N$ and $Q$.</li>\n<li>$Q$ lines follow. For each valid $i$, the $i$-th of these lines contains two space-separated integers $L_i$ and $R_i$.</li>\n</ul>\n<h3>Output</h3>\n<p>For each test case, print a single line containing $N$ space-separated integers $a_1, a_2, \\ldots, a_N$.</p>\n<ul>\n<li>If $p = 0$, the sequence $a_1, a_2, \\ldots, a_N$ should be the lexicographically smallest valid sequence.</li>\n<li>If $p = 1$, the sequence $a_1, a_2, \\ldots, a_N$ should be the lexicographically largest valid sequence.</li>\n</ul>\n<h3>Constraints</h3>\n<ul>\n<li>$1 \\le T \\le 10^3$</li>\n<li>$0 \\le p \\le 1$</li>\n<li>$1 \\le N, Q \\le 2 \\cdot 10^5$</li>\n<li>$1 \\le L_i \\le R_i \\le N$ for each valid $i$</li>\n<li>the sum of $N$ over all test cases does not exceed $2 \\cdot 10^5$</li>\n<li>the sum of $Q$ over all test cases does not exceed $2 \\cdot 10^5$</li>\n</ul>\n<h3>Subtasks</h3>\n<p><strong>Subtask #1 (15 points):</strong> $p = 0$</p>\n<p><strong>Subtask #2 (35 points):</strong></p>\n<ul>\n<li>$p = 1$</li>\n<li>the sum of $N$ over all test cases does not exceed $10^3$</li>\n<li>the sum of $Q$ over all test cases does not exceed $10^3$</li>\n</ul>\n<p><strong>Subtask #3 (50 points):</strong> $p = 1$</p>\n<h3>Example Input 1</h3>\n<pre><code>2 0\n7 3\n2 5\n7 7\n3 4\n1 2\n1 1\n1 1\n</code></pre>\n<h3>Example Output 1</h3>\n<pre><code>1 2 3 4 5 1 7 \n1\n</code></pre>\n<h3>Explanation</h3>\n<p><strong>Example case 1:</strong> Whenever a Chef should move from some cell $i$, we have $a_i = i$, so the Chefs do not move. That means the sequence $[1, 2, 3, 4, 5, 1, 7]$ is valid and it can be proved that it is lexicographically smallest, too.</p>\n<h3>Example Input 2</h3>\n<pre><code>2 1\n7 3\n2 5\n7 7\n3 4\n1 2\n1 1\n1 1\n</code></pre>\n<h3>Example Output 2</h3>\n<pre><code>7 5 4 3 2 7 7 \n1\n</code></pre>\n<h3>Explanation</h3>\n<p><strong>Example case 1:</strong> The Chefs move like this:</p>\n<ul>\n<li>first, $2 \\rightarrow 5, 3 \\rightarrow 4, 4 \\rightarrow 3, 5 \\rightarrow 2$; then, there is still exactly one Chef in each cell</li>\n<li>next, Chef $7$ stays in his cell</li>\n<li>finally, the Chefs in cells $3$ and $4$ swap places</li>\n</ul>\n<p>There is no point when there are two Chefs in a single cell at the same time, so the sequence $[7, 5, 4, 3, 2, 7, 7]$ is valid and it can be proved that it is lexicographically largest, too.</p>\n\n\t<body>\n</html>"}}}